{% extends "admin/base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 heading-style">
        <i class="fa fa-tachometer-alt"></i> Admin Dashboard 
    </h2>

    <!-- Dashboard Summary Cards -->
    <div class="container">
        <div class="row d-flex justify-content-center align-items-center">
          
          <div class="col-md-3">
            <a href="{{ url_for('manage_products') }}" class="text-decoration-none">
              <div class="card text-white bg-primary mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-building"></i> Total Product</h5>
                  <p class="card-text fs-5">{{ total_products }}</p>
                </div>
              </div>
            </a>
          </div>
      
          <div class="col-md-3">
            <a href="{{ url_for('manage_distributors') }}" class="text-decoration-none">
              <div class="card text-white bg-secondary mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-users"></i> No of Distributors</h5>
                  <p class="card-text fs-5">{{  total_distributors }}</p>
                </div>
              </div>
            </a>
          </div>
      
          <div class="col-md-3">
            <a href="{{ url_for('manage_galleries') }}" class="text-decoration-none">
              <div class="card text-white bg-danger mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-image"></i> Uploaded Gallery</h5>
                  <p class="card-text fs-5">{{ total_gallery }}</p>
                </div>
              </div>
            </a>
          </div>

          <div class="col-md-3">
            <a href="{{ url_for('manage_messages') }}" class="text-decoration-none">
              <div class="card text-white bg-success mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-envelope"></i> New Message</h5>
                  <p class="card-text fs-5">{{  unread_messages }}</p>
                </div>
              </div>
            </a>
          </div>
      
        </div>
      </div>
      

    <!-- Recent Products Table -->

<div class="card mt-4">
    <div class="card-header">
        <h5 class="text-center fs-4"><strong>Recent Added Products</strong></h5>
    </div>
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>S/No</th>
                    <th>Product ID</th>
                    <th>Product Name</th>
                    <th>Description</th>
                    <th>Date Added</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ product.product_ref }}</td>
                    <td>{{ product.product_name }}</td>
                    <td>{{ product.product_description[:40] }}...</td>
                    <td>{{ product.created_at.strftime('%Y-%m-%d') }}</td>
                    <td><a href="{{ url_for('admin_product_details', product_id=product.product_id) }}" class="btn btn-outline-primary"> <i class="fas fa-arrow-right"></i></a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <a href="{{ url_for('manage_products') }}" class="btn btn-primary btn-sm">View All Products</a>
    </div>
</div>

</div>
{% endblock %}
